<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1017px" height="1512px" viewBox="-0.5 -0.5 1017 1512" content="&lt;mxfile host=&quot;embed.diagrams.net&quot; modified=&quot;2023-07-20T15:08:01.922Z&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; etag=&quot;gNXgeYRlvEpFo90PGQqp&quot; version=&quot;21.6.3&quot; type=&quot;embed&quot;&gt;&lt;diagram id=&quot;QB-tHsTPjBIoVIsD2LTZ&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="176" y="194" width="351" height="82" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 349px; height: 1px; padding-top: 273px; margin-left: 178px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">1. Count the number of characters of the date string<br />2.  Set invalid dates as dates before 1985 or after the max_date<br />3. remove invalid dates</div></div></div></foreignObject><text x="178" y="273" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">1. Count the number of characters of the date string...</text></switch></g><path d="M 136.28 75 Q 136.28 75 135.51 115.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 128.28 101.02 L 135.49 116.16 L 143.28 101.3" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="48" y="8" width="178" height="59" rx="8.85" ry="8.85" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 176px; height: 1px; padding-top: 38px; margin-left: 49px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Set the max date as the upper limit of the last current FAERS quarter</div></div></div></foreignObject><text x="137" y="41" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Set the max date as the upper...</text></switch></g><rect x="233" y="22" width="210" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 208px; height: 1px; padding-top: 37px; margin-left: 235px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">max_date &lt;- 20230331</div></div></div></foreignObject><text x="235" y="41" fill="#3333FF" font-family="Helvetica" font-size="12px">max_date &lt;- 20230331</text></switch></g><path d="M 134 272 Q 134 272 134 345.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 126.5 331.88 L 134 346.88 L 141.5 331.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 134 124 L 216 194 L 134 264 L 52 194 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 162px; height: 1px; padding-top: 194px; margin-left: 53px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Define the function "check_date" to check and standardise dates in date columns </div></div></div></foreignObject><text x="134" y="198" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Define the function "check_...</text></switch></g><rect x="202" y="157" width="226" height="21" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 224px; height: 1px; padding-top: 168px; margin-left: 204px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">check_date &lt;- function(dt) {</div></div></div></foreignObject><text x="204" y="171" fill="#3333FF" font-family="Helvetica" font-size="12px">check_date &lt;- function(dt) {</text></switch></g><rect x="532" y="192" width="477" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 475px; height: 1px; padding-top: 252px; margin-left: 534px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>  n &lt;- nchar(dt)</div><div>  invalid_dates &lt;- (n == 4 &amp; (dt &lt;1985|dt &gt; as.numeric(substr(max_date, 0,4)))) |</div><div>    (n == 6 &amp; (dt &lt;198500|dt &gt; as.numeric(substr(max_date, 0,6)))) |</div><div>    (n == 8 &amp; (dt &lt;19850000|dt &gt; as.numeric(substr(max_date, 0,8)))) |</div><div>    (!n %in% c(4, 6, 8))</div><div>  dt[invalid_dates] &lt;- NA</div><div>  return(dt)</div><div>}</div></div></div></div></foreignObject><text x="534" y="256" fill="#3333FF" font-family="Helvetica" font-size="12px">n &lt;- nchar(dt)...</text></switch></g><path d="M 133.84 439 Q 133.84 439 133.67 485.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 126.22 471.86 L 133.67 486.88 L 141.22 471.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="13.5" y="356" width="241" height="75" rx="11.25" ry="11.25" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 239px; height: 1px; padding-top: 394px; margin-left: 15px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Count the number of characters and apply the "check_date" function to the date columns of DEMO. Then, <span style="background-color: initial;">remove the temporary "n" column and save the updated DEMO dataset </span></div></div></div></div></foreignObject><text x="134" y="397" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Count the number of characters and apply...</text></switch></g><rect x="262" y="356" width="481" height="97" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 479px; height: 1px; padding-top: 405px; margin-left: 264px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>date_columns &lt;- c("fda_dt", "rept_dt", "mfr_dt", "init_fda_dt", "event_dt")</div><div>for (col in date_columns) {</div><div>  Demo[, n := nchar(.SD[[col]])]</div><div>  Demo[, (col) := check_date(.SD[[col]])]</div><div>}</div><div>Demo &lt;- Demo %&gt;% select(-n)</div><div>saveRDS(Demo, "Clean Data/DEMO.rds")</div></div></div></div></foreignObject><text x="264" y="408" fill="#3333FF" font-family="Helvetica" font-size="12px">date_columns &lt;- c("fda_dt", "rept_dt", "mfr_dt", "init_fda_dt", "event_dt")...</text></switch></g><path d="M 133.68 579 Q 133.68 579 133.81 614.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 126.26 600.91 L 133.82 615.88 L 141.26 600.85" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="13" y="496" width="241" height="75" rx="11.25" ry="11.25" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 239px; height: 1px; padding-top: 534px; margin-left: 14px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Load the THER dataset, count the number of characters and apply the "check_date" function to the date columns.</div></div></div></div></foreignObject><text x="134" y="537" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Load the THER dataset, count the number...</text></switch></g><rect x="262" y="490" width="348" height="93" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 346px; height: 1px; padding-top: 537px; margin-left: 264px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div><font color="#3333ff">Ther &lt;- setDT(readRDS("Clean Data/Ther.rds"))</font></div><div><font color="#3333ff">for (col in c("start_dt", "end_dt")) {</font></div><div><font color="#3333ff">  Ther[, n := nchar(.SD[[col]])]</font></div><div><font color="#3333ff">  Ther[, (col) := check_date(.SD[[col]])]</font></div><div><font color="#3333ff">}</font></div></div></div></div></foreignObject><text x="264" y="540" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Ther &lt;- setDT(readRDS("Clean Data/Ther.rds"))...</text></switch></g><path d="M 133.85 708 Q 133.85 708 133.61 777.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 126.16 763.86 L 133.61 778.88 L 141.16 763.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="13.5" y="625" width="241" height="75" rx="11.25" ry="11.25" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 239px; height: 1px; padding-top: 663px; margin-left: 15px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Standardizes the "dur" (duration) column in the "Ther" dataset by applying duration correction factors based on the "dur_cod" values</div></div></div></div></foreignObject><text x="134" y="666" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Standardizes the "dur" (duration) column...</text></switch></g><rect x="262" y="625" width="350" height="160" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 348px; height: 1px; padding-top: 705px; margin-left: 264px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Ther$dur &lt;- as.numeric(Ther$dur)</div><div>Ther$dur_corrector &lt;- as.numeric(NA)</div><div>Ther[dur_cod == "YR", dur_corrector := 365]</div><div>Ther[is.na(dur_cod), dur_corrector := NA]</div><div>Ther[dur_cod == "MON", dur_corrector := 30.41667]</div><div>Ther[dur_cod == "WK", dur_corrector := 7]</div><div>Ther[dur_cod == "DAY", dur_corrector := 1]</div><div>Ther[dur_cod == "HR", dur_corrector := 0.04166667]</div><div>Ther[dur_cod == "MIN", dur_corrector := 0.0006944444]</div><div>Ther[dur_cod == "SEC", dur_corrector := 1.157407e-05]</div></div></div></div></foreignObject><text x="264" y="709" fill="#3333FF" font-family="Helvetica" font-size="12px">Ther$dur &lt;- as.numeric(Ther$dur)...</text></switch></g><path d="M 133.5 842 Q 133.5 842 133.5 873.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 126 859.88 L 133.5 874.88 L 141 859.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="13" y="788" width="241" height="46" rx="6.9" ry="6.9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 239px; height: 1px; padding-top: 811px; margin-left: 14px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Remove durations greater than 50 years and store durations in the column "dur_in_days"</div></div></div></div></foreignObject><text x="134" y="815" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Remove durations greater than 50 years a...</text></switch></g><rect x="257.5" y="801" width="655" height="27" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 653px; height: 1px; padding-top: 815px; margin-left: 260px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Ther &lt;- Ther[, dur_in_days := abs(dur) * dur_corrector][, dur_in_days := ifelse(dur_in_days &gt; 50*365, NA, dur_in_days)]</div><div><br /></div></div></div></div></foreignObject><text x="260" y="818" fill="#3333FF" font-family="Helvetica" font-size="12px">Ther &lt;- Ther[, dur_in_days := abs(dur) * dur_corrector][, dur_in_days := ifelse(dur_in_days &gt; 50*365, NA, dur...</text></switch></g><path d="M 133.79 966 Q 133.79 966 133.98 995.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 126.39 981.93 L 133.99 996.88 L 141.39 981.83" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="10.75" y="884" width="245.5" height="74" rx="11.1" ry="11.1" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 244px; height: 1px; padding-top: 921px; margin-left: 12px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Create a new column, "dur_std" as the difference between the start and the end of the therapy. When it is no possible to compute it replace it with the "dur_in_days" column value (if present)</div></div></div></div></foreignObject><text x="134" y="925" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Create a new column, "dur_std" as the dif...</text></switch></g><rect x="262" y="890" width="666" height="49" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 664px; height: 1px; padding-top: 915px; margin-left: 264px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Ther &lt;- Ther[, dur_std := ifelse(nchar(end_dt) == 8, ymd(end_dt), NA) - ifelse(nchar(start_dt) == 8, ymd(start_dt), NA) + 1]</div><div>Ther[dur_std!=dur_in_days][,.N,by=c("dur_std","dur_in_days")][order(-N)]#check</div><div>Ther &lt;- Ther[, dur_std := ifelse(dur_std &lt; 0, NA, dur_std)][, dur_std := ifelse(is.na(dur_std), dur_in_days, dur_std)]</div><div><br /></div></div></div></div></foreignObject><text x="264" y="918" fill="#3333FF" font-family="Helvetica" font-size="12px">Ther &lt;- Ther[, dur_std := ifelse(nchar(end_dt) == 8, ymd(end_dt), NA) - ifelse(nchar(start_dt) == 8, ymd(start_...</text></switch></g><path d="M 133.25 1076 Q 133.25 1076 132.31 1112.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 125.17 1098.7 L 132.28 1113.88 L 140.16 1099.08" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="11.5" y="1006" width="245.5" height="62" rx="9.3" ry="9.3" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 244px; height: 1px; padding-top: 1037px; margin-left: 13px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Compute the start or end therapy date if only one of the two is reported and the duration of the therapy is present</div></div></div></div></foreignObject><text x="134" y="1041" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Compute the start or end therapy date if...</text></switch></g><rect x="268" y="1008" width="546" height="63" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 544px; height: 1px; padding-top: 1040px; margin-left: 270px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Ther &lt;- Ther[,start_dt:=ifelse(!is.na(start_dt),start_dt,<span style="background-color: initial;">ifelse(!is.na(end_dt)&amp;!is.na(dur_std), as.numeric(gsub("-","",as.character(ymd(end_dt)-dur_std+1))),NA))]</span></div><div>Ther &lt;- Ther[,end_dt:=ifelse(!is.na(end_dt),end_dt,ifelse(!is.na(start_dt)&amp;!is.na(dur_std), as.numeric(gsub("-","",as.character(ymd(start_dt)+dur_std-1))),NA))]</div><div><br /></div></div></div></div></foreignObject><text x="270" y="1043" fill="#3333FF" font-family="Helvetica" font-size="12px">Ther &lt;- Ther[,start_dt:=ifelse(!is.na(start_dt),start_dt,ifelse(!is.na(end_dt)&amp;!is.na(dur_s...</text></switch></g><path d="M 131.62 1193 Q 131.62 1193 131.97 1229.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 124.34 1215.95 L 131.98 1230.88 L 139.34 1215.81" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="8.5" y="1123" width="245.5" height="62" rx="9.3" ry="9.3" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 244px; height: 1px; padding-top: 1154px; margin-left: 10px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Remove the temporary "n," "dur_corrector," "dur," "dur_cod," and "dur_std" columns from the THER dataset and save it</div></div></div></foreignObject><text x="131" y="1158" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Remove the temporary "n," "dur_corrector,...</text></switch></g><rect x="262" y="1134.5" width="536" height="39" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 534px; height: 1px; padding-top: 1154px; margin-left: 264px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Ther &lt;- Ther[, dur_in_days := dur_std] %&gt;% select(-n, -dur_std, -dur_corrector, -dur, -dur_cod)</div><div>saveRDS(Ther, "Clean Data/THER.rds")</div></div></div></div></foreignObject><text x="264" y="1158" fill="#3333FF" font-family="Helvetica" font-size="12px">Ther &lt;- Ther[, dur_in_days := dur_std] %&gt;% select(-n, -dur_std, -dur_corrector, -dur, -du...</text></switch></g><path d="M 133.65 1313 Q 133.65 1313 134.64 1344.77" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 126.71 1331.13 L 134.68 1345.88 L 141.7 1330.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="10.75" y="1240" width="243.25" height="65" rx="9.75" ry="9.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 241px; height: 1px; padding-top: 1273px; margin-left: 12px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Compute the time to onset as different between the "event_dt" and the "start_dt" in the THER dataset</div></div></div></div></foreignObject><text x="132" y="1276" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Compute the time to onset as different b...</text></switch></g><rect x="260" y="1228" width="474" height="100" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 472px; height: 1px; padding-top: 1278px; margin-left: 262px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Ther &lt;- Demo[, .(primaryid, event_dt)][!is.na(event_dt)][Ther, on = "primaryid"]</div><div>Ther &lt;- Ther[, time_to_onset := ifelse(nchar(event_dt) == 8, ymd(event_dt), NA) - ifelse(nchar(start_dt) ==8, ymd(start_dt), NA) + 1]</div><div><br /></div></div></div></div></foreignObject><text x="262" y="1282" fill="#3333FF" font-family="Helvetica" font-size="12px">Ther &lt;- Demo[, .(primaryid, event_dt)][!is.na(event_dt)][Ther, on = "primaryid"...</text></switch></g><path d="M 135.68 1421 Q 135.68 1421 135.54 1447.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 128.12 1433.84 L 135.54 1448.88 L 143.12 1433.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="14.25" y="1355" width="243.25" height="58" rx="8.7" ry="8.7" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 241px; height: 1px; padding-top: 1384px; margin-left: 15px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Remove the negative time to onset before 2013 (due to the autocompletion of dates provided by the LAERS)</div></div></div></div></foreignObject><text x="136" y="1388" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Remove the negative time to onset before...</text></switch></g><rect x="264" y="1361.5" width="554" height="45" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 552px; height: 1px; padding-top: 1384px; margin-left: 266px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Ther &lt;- Ther[, time_to_onset := ifelse(is.na(time_to_onset) | ( time_to_onset&lt;=0 &amp; event_dt&lt;=20121231), NA, time_to_onset)]</div><div><br /></div></div></div></div></foreignObject><text x="266" y="1388" fill="#3333FF" font-family="Helvetica" font-size="12px">Ther &lt;- Ther[, time_to_onset := ifelse(is.na(time_to_onset) | ( time_to_onset&lt;=0 &amp; event_dt&lt;...</text></switch></g><rect x="13.75" y="1458" width="243.25" height="45" rx="6.75" ry="6.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 241px; height: 1px; padding-top: 1481px; margin-left: 15px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Save the updated THER database and clear the workspace</div></div></div></div></foreignObject><text x="135" y="1484" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Save the updated THER database and clear...</text></switch></g><rect x="262" y="1455" width="232" height="41" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 230px; height: 1px; padding-top: 1476px; margin-left: 264px;"><div data-drawio-colors="color: #3333FF; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>saveRDS(Ther, "Clean Data/THER.rds")</div><div>rm(list = ls())</div></div></div></div></foreignObject><text x="264" y="1479" fill="#3333FF" font-family="Helvetica" font-size="12px">saveRDS(Ther, "Clean Data/THER.rds")...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>